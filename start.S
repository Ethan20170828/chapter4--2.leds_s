/*
 *	文件名：start.S
 *	作者：EthanSong
 *	描述：一步步点量LED的第一个裸机程序
 */


_start:
	// 第一步：把0x11111111写入0xE0200240(GPJ0CON)位置
	// 从后面的=可以看出用的是ldr伪指令，因为需要编译器来判断这个数是合法立即数还是非法立即数。一般写代码都用ldr伪指令
	ldr r0, =0x11111111
	ldr r1, =0xE0200240
	// 寄存器间接寻址。功能是把r0中的数写入到r1中的数为地址的内存中去
	str r0, [r1]


	// 第二步：把0x0写入0xE0200244(GPJ0DAT)位置
	ldr r0, =0x0
	ldr r1, = 0xE0200244
	// 把0写入到GPJ0DAT寄存器中，引脚即输出低电平，LED点亮
	str r0, [r1]


// 这两行写了一个死循环。因为裸机程序是直接在CPU上运行的，CPU会逐行运行裸机程序直到CPU断电关机。如果我们的程序所有的代码都执行完了CPU就会跑飞（跑飞以后是未定义的，所以千万不能让CPU跑飞），不让CPU跑飞的办法就是我们整个程序执行完后添加死循环
flag:
	b flag


